<!-- [START OF YOUR HTML CODE] -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>{{ role }} Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.10.1/lottie.min.js"></script>
  <style>
    /* [STYLES - UNCHANGED] */
    @keyframes backgroundShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    @keyframes glowPulse {
      0%, 100% {
        box-shadow: 0 0 15px #1e1465, 0 0 30px #1e1465, 0 0 45px #1e1465;
      }
      50% {
        box-shadow: 0 0 30px #065e8e, 0 0 60px #065e8e, 0 0 90px #065e8e;
      }
    }
    @keyframes dashGlow {
      to {
        stroke-dashoffset: 1000;
      }
    }

    body {
      margin: 0;
      font-family: 'Orbitron', sans-serif;
      background: linear-gradient(270deg, #050d55, #041167, #0c065c, #0f2027);
      background-size: 800% 800%;
      animation: backgroundShift 30s ease infinite;
      color: #fff;
      padding: 2rem;
      min-height: 100vh;
      overflow-x: hidden;
    }

    h1 {
      text-align: center;
      font-size: 2.4rem;
      text-shadow: 0 0 10px #3276ca, 0 0 20px #0b1e56;
      margin-bottom: 2rem;
    }

    .main-section {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 2rem;
      flex-wrap: wrap;
      width: 100%;
      margin: 0 auto;
    }

    .dashboard-container {
      width: 450px;
      height: 290px;
      background: rgba(26, 16, 140, 0.1);
      border: 2px solid #3d56a8;
      border-radius: 15px;
      padding: 1.5rem;
      box-shadow: 0 0 18px #07155c;
      backdrop-filter: blur(5px);
      animation: glowPulse 3s ease-in-out infinite;
      transition: transform 0.3s ease;
    }

    .dashboard-container:hover {
      transform: scale(1.03);
    }

    h2 {
      font-size: 1.6rem;
      color: #42a9f9;
      text-align: center;
      margin-bottom: 1.5rem;
      text-shadow: 0 0 6px #113e8b;
    }

    input[type="file"] {
      display: block;
      width: 90%;
      padding: 0.6rem;
      border-radius: 10px;
      border: none;
      background: #3986ad;
      color: #fff;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s ease, box-shadow 0.3s ease;
      box-shadow: inset 0 0 8px #03263f;
      font-size: 0.9rem;
    }

    input[type="file"]:hover,
    input[type="file"]:focus {
      background: #2b5c93;
      box-shadow: 0 0 15px #042b96;
      outline: none;
    }

    .btn {
      margin-top: 1.5rem;
      width: 45%;
      background: linear-gradient(90deg, #173893, #4168cb);
      color: #fff;
      border: none;
      padding: 0.7rem 0;
      border-radius: 12px;
      font-weight: 900;
      font-size: 0.9rem;
      cursor: pointer;
      box-shadow: 0 0 20px #22419d;
      transition: background 0.4s ease, box-shadow 0.4s ease, transform 0.3s ease;
      letter-spacing: 1.2px;
      text-transform: uppercase;
      float: left;
      margin-right: 5%;
    }
    .btn:last-child {
      margin-right: 0;
    }

    .btn:hover {
      background: linear-gradient(90deg, #063381, #031c36);
      box-shadow: 0 0 40px #0c336d, 0 0 60px #032342;
      transform: scale(1.05);
    }

    #lottie1 {
      width: 620px;
      height: 420px;
      border: 2px solid #3d56a8;
      border-radius: 15px;
      backdrop-filter: blur(25px);
      animation: glowPulse 3s ease-in-out infinite;
    }

    .background-grid {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      opacity: 0.15;
      pointer-events: none;
      overflow: hidden;
    }

    .background-grid svg {
      width: 100%;
      height: 100%;
    }

    .background-grid line {
      stroke: #00fff0;
      stroke-width: 0.5;
      stroke-dasharray: 4, 4;
      animation: dashGlow 4s linear infinite;
    }

    @media (max-width: 900px) {
      .main-section {
        flex-direction: column;
        align-items: center;
      }
      .dashboard-container,
      #lottie1 {
        width: 90%;
      }
    }

  </style>
</head>
<body>

  <!-- Sci-Fi Background Grid -->
  <div class="background-grid">
    <svg viewBox="0 0 100 100" preserveAspectRatio="none">
      <g>
        <line x1="10" y1="0" x2="10" y2="100" />
        <line x1="30" y1="0" x2="30" y2="100" />
        <line x1="50" y1="0" x2="50" y2="100" />
        <line x1="70" y1="0" x2="70" y2="100" />
        <line x1="90" y1="0" x2="90" y2="100" />
      </g>
      <g>
        <line x1="0" y1="10" x2="100" y2="10" />
        <line x1="0" y1="30" x2="100" y2="30" />
        <line x1="0" y1="50" x2="100" y2="50" />
        <line x1="0" y1="70" x2="100" y2="70" />
        <line x1="0" y1="90" x2="100" y2="90" />
      </g>
    </svg>
  </div>

  <h1>Resume Evaluator</h1>

  <div class="main-section">
    <!-- Upload Form -->
    <div class="dashboard-container">
      <h2>Upload Resumes</h2>
      <form id="uploadForm" enctype="multipart/form-data">
        <input type="file" name="resumes" multiple required>
        <button type="submit">Analyze</button>
      </form>
    </div>
    <div id="uploadLoader" style="display:none;text-align:center;margin-top:1rem;">
      <p>Uploading...</p>
      <div class="loader"></div>
    </div>

    <!-- Lottie Animation (no container) -->
    <div id="lottie1"></div>
  </div>

  <script>
    // Upload Handler (your existing code)
    document.getElementById('bulkUploadForm').onsubmit = async function(e) {
      e.preventDefault();
      const formData = new FormData(this);
      try {
        const response = await fetch('/bulk-upload', {
          method: 'POST',
          body: formData
        });
        const result = await response.json();
        if (result.redirect) {
          window.location.href = result.redirect;
        } else {
          alert('Upload successful, but no redirect specified.');
        }
      } catch (err) {
        alert('Error during upload: ' + err.message);
      }
    };

    // Main large Lottie animation
    lottie.loadAnimation({
      container: document.getElementById('lottie1'),
      renderer: 'svg',
      loop: true,
      autoplay: true,
      path: 'https://assets9.lottiefiles.com/packages/lf20_qp1q7mct.json'
    });

    // Existing floating animations
    const animations = [
      'https://assets1.lottiefiles.com/packages/lf20_tijpxvil.json',
      'https://assets1.lottiefiles.com/packages/lf20_9cyyl8i4.json',
      'https://assets3.lottiefiles.com/packages/lf20_HpFqiS.json'
    ];
    animations.forEach((url, index) => {
      const floatDiv = document.createElement('div');
      floatDiv.style.position = 'fixed';
      floatDiv.style.width = '150px';
      floatDiv.style.height = '150px';
      floatDiv.style.top = `${10 + index * 30}%`;
      floatDiv.style.left = `${20 + index * 25}%`;
      floatDiv.style.zIndex = '0';
      floatDiv.style.pointerEvents = 'none';
      floatDiv.style.opacity = '0.1';
      floatDiv.style.filter = 'drop-shadow(0 0 10px #0ff)';
      floatDiv.style.animation = `float${index} 10s ease-in-out infinite`;
      document.body.appendChild(floatDiv);

      lottie.loadAnimation({
        container: floatDiv,
        renderer: 'svg',
        loop: true,
        autoplay: true,
        path: url
      });
    });

    // Add 21 small subtle floating Lottie animations background
    const smallAnimations = [/* ... (same as before) ... */];

    for (let i = 0; i < smallAnimations.length; i++) {
      const smallDiv = document.createElement('div');
      smallDiv.style.position = 'fixed';
      smallDiv.style.width = '60px';
      smallDiv.style.height = '60px';
      smallDiv.style.top = `${Math.random() * 80 + 10}%`;
      smallDiv.style.left = `${Math.random() * 80 + 10}%`;
      smallDiv.style.zIndex = '0';
      smallDiv.style.pointerEvents = 'none';
      smallDiv.style.opacity = '0.07';
      smallDiv.style.filter = 'drop-shadow(0 0 5px #0ff)';
      smallDiv.style.animation = `floatSmall${i} ${6 + Math.random() * 4}s ease-in-out infinite`;
      document.body.appendChild(smallDiv);

      lottie.loadAnimation({
        container: smallDiv,
        renderer: 'svg',
        loop: true,
        autoplay: true,
        path: smallAnimations[i]
      });
    }

    const styleElem = document.createElement('style');
    let keyframes = '';
    for (let i = 0; i < smallAnimations.length; i++) {
      keyframes += `
        @keyframes floatSmall${i} {
          0% { transform: translateY(0px) scale(1); }
          50% { transform: translateY(-10px) scale(1.1); }
          100% { transform: translateY(0px) scale(1); }
        }
      `;
    }
    styleElem.innerHTML = keyframes;
    document.head.appendChild(styleElem);
  </script>

</body>
</html>
<!-- [END OF HTML CODE] -->
